name: "test"

on:
  workflow_dispatch:
  push:

jobs:
  changes:
    runs-on: ubuntu-latest
    steps:
      - uses: dorny/paths-filter@v2
        id: filter
        with:
          filters: |
            my:
               - added|modified: '**'

  my:
    runs-on: ubuntu-latest
    needs: changes
    strategy:
      fail-fast: false
      matrix:
        tfstates: ${{ fromJSON(needs.changes.outputs.tfstates) }}
    steps:
      - uses: actions/checkout@v4
